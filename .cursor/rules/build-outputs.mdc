---
description: Build outputs must go in .temp directory
globs:
alwaysApply: true
---

# Build Output Directory Policy

**All build artifacts, intermediate files, and temporary outputs MUST go in the `.temp/` directory.**

## Required Directory Structure

- `.temp/build-msvc/` - MSVC/Visual Studio builds
- `.temp/build-gcc/` - GCC builds (via MSYS2)
- `.temp/build-clang/` - Clang builds
- `.temp/build-ninja/` - Ninja builds
- `.temp/` - Any other temporary or generated files

## Rules

1. **Never create executables, object files, or build artifacts in source directories**
2. **Never commit anything from `.temp/`** - it is in `.gitignore`
3. When configuring CMake, always use `-B .temp/build-<compiler>`
4. When running direct compiler commands, output to `.temp/build-<compiler>/`

## Example Commands

### CMake (MSVC)
```powershell
cmake -B .temp/build-msvc -G "Visual Studio 18 2026" -A x64
cmake --build .temp/build-msvc --config Release
```

### CMake (GCC via MSYS2)
```bash
cmake -B .temp/build-gcc -G "Unix Makefiles"
cmake --build .temp/build-gcc
```

### Direct GCC compilation
```bash
mkdir -p .temp/build-gcc
g++ -std=c++20 -O3 src/main.cpp -o .temp/build-gcc/main.exe
```

### Direct MSVC compilation
```powershell
New-Item -ItemType Directory -Force -Path .temp/build-msvc
cl /std:c++20 /O2 src/main.cpp /Fe:.temp/build-msvc/main.exe
```
